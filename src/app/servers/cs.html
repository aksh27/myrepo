<img src="assets/images/loading.gif" class="marT10" ng-if="pageLoading">
<div ng-if="!pageLoading">
  <div class="row subject-header marB25">
    <div class="col-xs-10">
      <div class="text-big">
        <a ui-sref="{{'support.servers'}}" class="text-muted back-btn pull-left"><span
            class="fas fa-arrow-left text-sm"></span></a>
        <div class="word-break">
          <span class="text-muted">Create Server</span>
        </div>
      </div>
    </div>
    <div class="col-xs-2"></div>
  </div>
  <div class="row">
    <div class="col-xs-4">
      <div class="form-group">
        <label>Name</label>
        <input type="text" class="form-control" ng-model="server.label">
      </div>
      <div class="form-group">
        <label>Server Location</label>
        <select class="form-control" ng-options="server.label for server in servers track by server.id"
          ng-model="sl.info" ng-change="getPhoneNumber()">
          <option value="">Select Location</option>
        </select>
      </div>
      <div class="form-group">
        <label>Address</label>
        <input type="text" class="form-control" ng-model="server.address">
      </div>
      <div class="row marB15">
        <div class="col-xs-6">
          <label>City</label>
          <input type="text" class="form-control" ng-model="server.city">
        </div>
        <div class="col-xs-6">
          <label>Province</label>
          <input type="text" class="form-control" ng-model="server.province">
        </div>
      </div>
      <div class="row marB15">
        <div class="col-xs-6">
          <label>Country</label>
        <input type="text" class="form-control" ng-model="server.country">
        </div>
        <div class="col-xs-6">
          <label>ZIP</label>
          <input type="text" class="form-control" ng-model="server.zip">
        </div>
      </div>
      <div class="row marB15">
        <div class="col-xs-6">
          <label>Phone</label>
          <input type="text" class="form-control" ng-model="server.phone">
        </div>
      </div>
      <div class="row marB15">
        <div class="col-xs-6">
          <label>Prime admin email</label>
          <input type="email" ng-blur="getPhoneNumber()" class="form-control" ng-model="server.email">
        </div>
        <div class="col-xs-6">
          <label>Prime admin phone</label>
          <input type="text" class="form-control" ng-model="server.paPhone">
        </div>
      </div>
      <div class="row marB15">
        <div class="col-xs-6">
          <label>License count</label>
          <input type="number" class="form-control" min="1" ng-model="server.q">
        </div>
      </div>
      <div class="row marB15">
        <div class="col-xs-12">
          <label><input type="checkbox" ng-true-value="1" ng-false-value="0" ng-model="server.isSendMail"><label></label>Notify prime admin about server creation.</label>
        </div>
      </div>
      <div class="form-group bdr-top-dashed">
        <span class="btnQuad">
          <button type="submit" ng-disabled="popupProcessing" ng-click="createServerFx();" class="btn btn-primary" id="submitBtn"><span class="fas" ng-class="popupProcessing? 'fa-redo fa-spin':'fa-check'"></span>Create</button>
          <button class="btn btn-link" ui-sref="{{'support.servers'}}">{{"cm.btn.8" | translate}}</button>
        </span>
        <div class="errMsg pull-right" ng-if="hasErr">
          <span ng-if="errType == 'name'">Please provide name.</span>
          <span ng-if="errType == 'sl'">Please provide server location.</span>
          <span ng-if="errType == 'lQty'">Please provide license count.</span>
          <span ng-if="errType == 'email'">{{"t.msg.11.1" | translate}}</span>
        </div>
      </div>
    </div>
  </div>
</div>