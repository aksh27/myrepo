<div class="table table-md no-th no-pointer">
  <img src="assets/images/loading.gif" class="padT10" ng-if="listLoading">
  <div class="noPad" ng-if="!listLoading && userList.length > 0">
    <div class="row th">
      <a href="" ng-click="columnSortFx('n', (auth.sort.ser_user.val == 'a' ? 'd' : 'a'), userList, 'ser_user'); activeColumnFx('fname');">
        <div class="col-xs-3 text-primary text-bold display-flex">Name
          <div class="marL10" ng-if="activeCol == 'fname' && !saveProcessing">
            <span ng-if="auth.sort.ser_user.val === 'd'"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
            <span ng-if="auth.sort.ser_user.val === 'a'"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
          </div>
        </div>
      </a>

      <a href="" ng-click="columnSortFx('e', (auth.sort.ser_user.val == 'a' ? 'd' : 'a'), userList, 'ser_user'); activeColumnFx('email');">
        <div class="col-xs-3 text-primary text-bold display-flex">Email
          <div class="marL10" ng-if="activeCol == 'email' && !saveProcessing">
            <span ng-if="auth.sort.ser_user.val === 'd'"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
            <span ng-if="auth.sort.ser_user.val === 'a'"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
          </div>
        </div>
      </a>

      <div class="col-xs-3 text-primary text-bold display-flex">Server Role
        <div class="marL10" ng-if="activeCol == 'label' && !saveProcessing">
          <span ng-if="auth.sort.ser_user.val === 'd'"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
          <span ng-if="auth.sort.ser_user.val === 'a'"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
        </div>
      </div>

      <a href="" ng-click="columnSortFx('ll', (auth.sort.ser_user.val == 'a' ? 'd' : 'a'), userList, 'ser_user'); activeColumnFx('login');">
        <div class="col-xs-3 text-primary text-bold display-flex">Last Login
          <div class="marL10" ng-if="activeCol == 'login' && !saveProcessing">
            <span ng-if="auth.sort.ser_user.val === 'd'"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
            <span ng-if="auth.sort.ser_user.val === 'a'"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
          </div>
        </div>
      </a>
    </div>
    <!-- <div class="row th">
      <a href="" ng-click="sortBy('fname');">
        <div class="col-xs-3">Name
          <span class="pull-right" ng-show="propertyName === 'fname'">
            <span ng-show="!reverse"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
            <span ng-show="reverse"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
          </span>
        </div>
      </a>
      <a href="" ng-click="sortBy('email');">
        <div class="col-xs-3">Email
          <span class="pull-right" ng-show="propertyName === 'email'">
            <span ng-show="!reverse"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
            <span ng-show="reverse"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
          </span>
        </div>
      </a>
      <a href="" ng-click="sortBy('label');">
        <div class="col-xs-3">Server Role
          <span class="pull-right" ng-show="propertyName === 'label'">
            <span ng-show="!reverse"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
            <span ng-show="reverse"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
          </span>
        </div>
      </a>
      <a href="" ng-click="sortBy('login');">
        <div class="col-xs-3">Last Login
          <span class="pull-right" ng-show="propertyName === 'login'">
            <span ng-show="!reverse"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
            <span ng-show="reverse"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
          </span>
        </div>
      </a>
    </div> -->
    <div class="row" ng-repeat="user in filteredSList = (userList | filter:search.text)">
      <div class="col-xs-3">{{user.fname}} {{user.lname}}</div>
      <div class="col-xs-3 text-ellipsis">{{user.email}}</div>
      <div class="col-xs-3">
        <div ng-repeat="server in user.s">{{server.label}} - {{server.role}}
        </div>
        <span class="text-muted" ng-if="user.s.length == 0">NA</span>
      </div>
      <div class="col-xs-3">{{user.loginTS | date:getDateFormat(user.loginTS, 'oDT')}}
        <span class="text-muted" ng-if="!user.login || user.login == ''">NA</span>
        <!-- <button type="button" ng-if="user.fname != ''" class="btn btn-success btn-xs pull-right" ng-click="sendPassOpen(user);"><span class="fa fa-key"></span>Send Password</button> -->
        <a href="" class="pull-right" ng-if="user.fname != ''" ng-click="sendPassOpen(user);" uib-tooltip="{{'Send Password' | translate}}" tooltip-append-to-body="true" tooltip-placement="left"><i class="fas fa-share noMar"></i></a>
      </div>
    </div>
    <div class="msg-warning" ng-if="filteredSList.length == 0" translate="{{'cm.msg.14'}}" translate-values="{searchText: '<b>&quot;{{search.text.replace(searchRegExp, searchReplaceChar)}}&quot;</b>'}"></div>
  </div>
  <div class="msg-warning" ng-if="!listLoading && !userList.length" translate="{{'No user found for this server location.'}}"></div>
</div>
